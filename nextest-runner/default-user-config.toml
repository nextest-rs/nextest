# This is the default user config used by nextest. It is embedded in the binary
# at build time. It may be used as a template for ~/.config/nextest/config.toml.
#
# For documentation on these settings, see:
# https://nexte.st/docs/user-config/reference

[ui]
# How to show progress during test runs.
# Valid values: "auto", "none", "bar", "counter", "only"
show-progress = "auto"

# Maximum running tests to display in the progress bar.
# Valid values: an integer, or "infinite" for unlimited.
max-progress-running = 8

# Whether to enable the input handler for keyboard shortcuts during test runs.
input-handler = true

# Whether to indent captured test output for visual clarity.
output-indent = true

# Pager for supported command output.
#
# Accepts a command string ("less -FRX"), an array (["less", "-FRX"]),
# a table ({ command = ["less", "-FRX"], env = { LESSCHARSET = "utf-8" } }),
# or ":builtin" to use the builtin pager.
pager = { command = ["less", "-FRX"], env = { LESSCHARSET = "utf-8" } }

# When to paginate output.
# Valid values: "auto", "never"
paginate = "auto"

# Configuration for the builtin streampager (used when pager = ":builtin").
[ui.streampager]
# Interface mode controlling alternate screen behavior.
# Valid values: "quit-if-one-page", "full-screen-clear-output", "quit-quickly-or-clear-output"
interface = "quit-if-one-page"
# Text wrapping mode.
# Valid values: "none", "word", "anywhere"
wrapping = "word"
# Whether to show a ruler at the bottom.
show-ruler = true

# Record retention settings (for experimental record-replay feature).
[record]
# Whether recording is enabled.
# Recording only occurs when the `record` experimental feature is enabled AND
# this is set to true.
enabled = false
# Maximum number of recorded runs to keep.
max-records = 100
# Maximum total size of all recorded runs.
max-total-size = "1GB"
# Maximum age of recorded runs.
max-age = "30d"
# Maximum size of a single output (stdout/stderr) before truncation.
max-output-size = "10MB"

# Windows uses the builtin pager by default because external pagers are
# unreliable on Windows.
[[overrides]]
platform = "cfg(windows)"
ui.pager = ":builtin"
